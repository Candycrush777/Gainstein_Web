<template>
  <v-app>
    <AdminNavbar />
    <v-main class="d-flex">
      <UserSidebar />
      <v-container fluid class="pa-6" style="flex:1;">
        <h1 class="mb-4">Seguridad</h1>
        <v-card class="pa-4">
          <v-form v-model="valid">
            <v-row dense>
              <v-col cols="12" md="6"><v-text-field v-model="form.currentPassword" type="password" label="Contrase単a actual" outlined dense /></v-col>
              <v-col cols="12" md="6"><v-text-field v-model="form.newPassword"     type="password" label="Nueva contrase単a"     outlined dense /></v-col>
              <v-col cols="12" md="6"><v-text-field v-model="form.repeatPassword"  type="password" label="Repetir contrase単a"  outlined dense /></v-col>
              <v-col cols="12" md="6" class="d-flex align-end">
                <v-btn :disabled="!valid" color="primary" @click="changePassword">Cambiar contrase単a</v-btn>
              </v-col>
            </v-row>
          </v-form>
        </v-card>
      </v-container>
    </v-main>
  </v-app>
</template>

<script setup>
import { ref } from 'vue'
import AdminNavbar from '~/components/AdminNavbar.vue'
import UserSidebar from '~/components/user/UserSidebar.vue'
definePageMeta({ layout: 'admin' })

const valid = ref(true)
const form = ref({ currentPassword:'', newPassword:'', repeatPassword:'' })
const changePassword = async () => { /* await $fetch('/api/users/change-password', { method:'POST', body: form.value }) */ }
</script>

<style scoped>
.v-card { border-radius: 12px; box-shadow: 0 8px 24px rgba(124,77,255,0.06); background: #fff; }
.v-main { flex:1; min-height: calc(100vh - 80px - 60px); background: #f8fafc; }
</style>
